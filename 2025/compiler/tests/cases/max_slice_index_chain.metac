@Test({
   "exit" : 0,
   "stdout" : "Result: 17\n"
})
function main() {
  const result = solve()?
  log("Result: ${result}")
}

function solve(): number | error {
  const xs = split("3,9,4,8", ",")?
  const best = xs.map(parseNumber)?.max()

  if best.index() != 1 {
    return error("unexpected index")
  }

  const tail = xs.slice(best.index() + 1).max()
  return best + tail
}
